$(document).ready(function(){$.ajaxSetup({cache:!0}),$('[data-toggle="tooltip"]').tooltip();var n,t;function e(t){$("body").toggleClass("dark","dark"===t)}t=new clc.SettingsHandler(function(){n.setSettings(t.getSettings()),e(t.getSettings().colorTheme)}),e(t.getSettings().colorTheme),(n=new clc.Calculator(math,t.getSettings(),"Simply type an expression (for example: 'sin(pi)^2 + cos(pi)^2') in the calculator and press enter to see the result.\n\nYou can use up/down arrow keys for navigating the command history and tab key for autocompletion (double tap tab to see all completion suggestions).\nOther typical terminal key combinations such as Ctrl+k/Ctrl+u or Ctrl+r are also available (see full list on the help page).\n\nOn the left panel (or top panel for small screen devices) there are buttons to open help page, configure calculator's precision and display options, open TeX panel and get shareable link to your calculations.\nAdditionally, you can get shareable link to any specific expression by clicking on the \"link\" icon on the right side of any expression.\n\nTo get help for any built-in function or constant, use the 'help()' function with an argument, for example, try 'help(pi)', 'help(sin)' or 'help(derivative)'.\nTo see the list of available functions or constant double tap the tab key.\n\nTo see detailed help for all calculator features go to the help page.")).installExtension(new clc.UnicodeEncodingExtension),n.installExtension(new clc.Base64EncodingExtension),n.installExtension(new clc.HashesExtension),n.installExtension(new clc.ColorExtension(!0)),n.installExtension(new clc.LerpExtension),n.installExtension(new clc.PlotExtension);var i=">";function o(t){var n="";return t.find(">div>span").each(function(t,e){n+=0===t?$(e).text().substr(i.length):$(e).text()}),n}var r=new clc.LinksHandler(function(t){if(void 0!==t)return[o(t)];var n=[];return $(".terminal-output .terminal-command").each(function(t,e){e=o($(e));clc.isStringBlank(e)||n.push(e)}),n}),s=new clc.TexHandler,a=new clc.SyntaxHighlighter;r.setLogLinkButtonEnabled(!1),$.terminal.defaults.formatters.push(function(t){return a.highlight(t)});var l=$(".console-panel").terminal(function(t){if(!clc.isStringBlank(t)){r.setLogLinkButtonEnabled(!0);try{var e=n.evaluate(t);s.addEvaluatedExpression(e.tex,e.result.tex||null),e.result.postprocessed?this.echo(e.result.postprocessed,{raw:!0}):e.result.raw instanceof clc.CallbackResult&&this.echo(e.result.raw.callback,{raw:!0})}catch(t){t.message&&0===t.message.indexOf("No documentation found on")&&(t.message+=". If you believe the documentation is missing please open an issue at github.com/ovk/clcalc/issues."),this.echo("[[;;;terminal-output-error;]"+t.name+": "+t.message+"]")}}},{onEchoCommand:function(t){var e=(e=t.find("div")).length?e.text().substring(i.length):"";clc.isStringBlank(e)||r.injectExpressionLinkButton(t.find(">div").last())},name:"clcalc",prompt:"[[;;;prompt-wrapper]"+i+"]",exit:!1,memory:!0,enabled:!0,greetings:function(){this.echo('<div class="welcome-message">Type math expression and press enter to calculate the result. You can use up/down keys to navigate commands history and tab key for autocompletion. Check <a href="/help.html#quickstart" target="_blank">Quick Start</a> guide or type <strong>help</strong> for help.</div>',{raw:!0})},onClear:function(){r.setLogLinkButtonEnabled(!1),s.clear()},completionEscape:!1,wordAutocomplete:!1,doubleTab:function(t,e,n){n(),this.echo(e.map(function(t){return t.token||t}))},completion:function(){var n=this.before_cursor();if(n.length){for(var t=n.length;0<t&&-1!=="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_".indexOf(n[t-1]);--t);var i=n.substr(t);return(i.length?clc.COMPLETION_KEYWORDS.filter(function(t){return 0===t.indexOf(i)}):clc.COMPLETION_KEYWORDS).map(function(t){var e=new String(n+t.substr(i.length));return e.token=t,e})}return clc.COMPLETION_KEYWORDS}});l.option("mousewheel",function(t){return clc.FunctionPlot2D.isEventConsumed(t)&&t.preventDefault(),!0}),window.onhashchange=function(){window.location.reload()};var c=r.getExpressionsListFromUrl();if(c){var h,u=new RegExp(String.fromCharCode(160),"g");for(h in c)l.exec(c[h].replace(u," "))}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch(function(t){console.log("Failed to register service worker",t)}),Math.log10||(Math.log10=function(t){return Math.log(t)/Math.LN10}),Math.sign||(Math.sign=function(t){return(0<t)-(t<0)||+t}),function(a){a.isStringBlank=function(t){if(!t||!t.length)return!0;for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e]&&"\r"!==t[e]&&"\n"!==t[e]&&160!==t.charCodeAt(e))return!1;return!0},a.repeatString=function(t,e){for(var n="",i=0;i<e;++i)n+=t;return n},a.padLeft=function(t,e,n){return t.length>=n||1!==e.length?t:a.repeatString(e,n-t.length)+t},a.stringToUnicodeCodePointList=function(t){for(var e=[],n=0;n<t.length;++n){var i,o=t.charCodeAt(n);55296<=o&&o<=56319&&n+1<t.length&&(56320<=(i=t.charCodeAt(n+1))&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,++n)),e.push(o)}return e},a.stringFromUnicodeCodePointList=function(t){for(var e="",n=0;n<t.length;++n){var i,o=a.toUint32(t[n]);if(1114111<o)throw new Error("Invalid code point value: "+o+". Must be less then or equal to 0x10FFFF.");65535<o?(i=Math.floor((o-65536)/1024)+55296,e+=String.fromCharCode(i,(o-65536)%1024+56320)):e+=String.fromCharCode(o)}return e},a.stringToUtf8Array=function(t){var e=[];t=unescape(encodeURIComponent(t));for(var n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e},a.stringFromUtf8Array=function(t){for(var e=[],n=0;n<t.length;){var i,o=a.toUint8(t[n]);if(0==(128&o))i=127&o,n+=1;else if(o>>>5==6){if(n+1>=t.length)throw new Error("Failed to decode utf8 string: excepceted 1 byte after "+o);i=(31&o)<<6|63&a.toUint8(t[n+1]),n+=2}else if(o>>>4==14){if(n+2>=t.length)throw new Error("Failed to decode utf8 string: excepceted 2 bytes after "+o);i=(15&o)<<12|(63&a.toUint8(t[n+1]))<<6|63&a.toUint8(t[n+2]),n+=3}else{if(o>>>3!=30)throw new Error("Failed to decode utf8 string: unexpected byte "+o+" at position "+n);if(n+3>=t.length)throw new Error("Failed to decode utf8 string: excepceted 3 bytes after "+o);i=(7&o)<<18|(63&a.toUint8(t[n+1]))<<12|(63&a.toUint8(t[n+2]))<<6|63&a.toUint8(t[n+3]),n+=4}e.push(i)}return a.stringFromUnicodeCodePointList(e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a.base64Encode=function(t){if(0===t.length)return"";var e,n="",i=t.length%3;if(i)for(i=3-i,e=0;e<i;++e)t.push(0);for(e=0;e<t.length;e+=3){var o=a.toUint8(t[e]),r=a.toUint8(t[e+1]),s=a.toUint8(t[e+2]);n+=l[o>>>2],n+=l[(3&o)<<4|r>>>4],n+=e===t.length-3&&2===i?"=":l[(15&r)<<2|s>>>6],n+=e===t.length-3&&i?"=":l[63&s]}return n},a.base64Decode=function(t){if(0===t.length)return[];for(var e=[],n=0;n<t.length;n+=4){var i=l.indexOf(t[n]);if(-1===i)throw new Error("Invalid character at index "+n);if(n+1>=t.length)throw new Error("The string is not correctly base64 encoded: next character expected.");var o=l.indexOf(t[n+1]);if(-1===o)throw new Error("Invalid character at index "+n);var r=!(n+2<t.length)||"="===t[n+2]?0:l.indexOf(t[n+2]);if(-1===r)throw new Error("Invalid character at index "+n);var s=!(n+3<t.length)||"="===t[n+3]?0:l.indexOf(t[n+3]);if(-1===s)throw new Error("Invalid character at index "+n);if(n+2<t.length&&"="===t[n+2]&&(n+3>=t.length||"="!==t[n+3]))throw new Error("The string is not correctly base64 encoded: improper padding.");e.push(i<<2|o>>>4),n+2<t.length&&"="!==t[n+2]&&(e.push((15&o)<<4|r>>>2),n+3<t.length&&"="!==t[n+3]&&e.push((3&r)<<6|s))}return e},a.randomAlnumString=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",i=0;i<t;++i)n+=e[Math.floor(Math.random()*e.length)];return n},a.randomId=function(t){return t+a.randomAlnumString(10)},a.round1Dec=function(t){return Math.sign(t)*Math.round(10*Math.abs(t))/10},a.truncateNumber=function(t){return 0|t},a.clamp=function(t,e,n){return t<e?e:n<t?n:t},a.mod=function(t,e){return(t%e+e)%e},a.toUint32=function(t){if("number"!=typeof t&&!t.toNumber)throw new Error("Must be a numeric type: "+t);t=t.toNumber?t.toNumber():t;if(t<0)throw new Error("Number must be non-negative: "+t);if(4294967295<t)throw new Error("Number must fit in 4 byte unsigned integer: "+t);return t>>>0},a.toUint8=function(t){var e=a.toUint32(t);if(255<t)throw new Error("Number exceeds byte range: "+e);return e},a.dropTrailingZeroes=function(t){var e=t.indexOf(".");if(-1!==e){for(var n=t.length-1;e<n&&"0"===t[n];)--n;if(e===n)return t.substring(0,e);if(n<t.length-1)return t.substring(0,n+1)}return t},a.addThousandsSeparator=function(t,e){if(!t.length||!e.length)return t;var n,i="-"===t[0]?1:0,o=t.indexOf("."),r=(-1===o?t.length:o)-i,s="";for(0!=i&&(s+=t[0]),n=i;n<r+i;++n)(r-n+i)%3==0&&n!==i&&(s+=e),s+=t[n];if(-1!==o)for(s+=".",n=o+1;n<t.length;++n)s+=t[n],(n-o)%3==0&&n!==t.length-1&&(s+=e);return s},a.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.htmlTag=function(t,e,n){var i="<"+t;if(e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i+=" "+o+'="'+e[o]+'"');return i+=">"+((n=n&&a.isArray(n)?n.join(""):n)||"")+"</"+t+">"},a.domElement=function(t,e,n,i){var o=document.createElementNS(t,e);if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&o.setAttribute(r,n[r]);if(i)if(a.isArray(i))for(var s=0;s<i.length;++s)o.appendChild(i[s]);else"string"==typeof i?o.innerHTML=i:o.appendChild(i);return o},a.mathJsToValidNumber=function(t){if("number"==typeof t||t instanceof Number){if(!isFinite(t))throw new Error("Number is infinite or NaN");return t}if(t.toNumber){if(t.isFinite())return t.toNumber();throw new Error("Number is infinite or NaN")}throw new Error("Not a recognized number type")},a.log=function(t){console&&console.log&&console.log(t)}}(window.clc=window.clc||{}),function(r){r.Calculator=function(t,e,n){var i=this;this._mathJs=t,this._mathJs.config({number:"BigNumber",precision:e.precision}),this._scope={},this._extensions=[],this._settings={precision:e.precision,enableThousandsSeparator:e.thousandsSeparatorEnabled},this._decimalNumberRegexp=new RegExp("^[\\d\\.-]+$",""),this._thousandsSeparator='<span class="ts"></span>',this._thousandsSeparatorRegexp=new RegExp('<span class="ts"><\\/span>',"g"),this._numberFormatter=function(t){t=t.isBigNumber?r.dropTrailingZeroes(t.toFixed(i._settings.precision)):t.toString();return i._settings.enableThousandsSeparator?i._formatNumberAddDigitGrouping(t):t};e=this._registerAliases();this._initializeCustomTexHandler(e),this._lastExpressionResult=void 0,this._mathJs.import({_lastResultRef:function(){return i._lastExpressionResult},_printHelp:function(){return{type:"Help",toString:function(){return this.message},message:n}}},{override:!0}),this._initializeHelp(e)},r.Calculator.prototype.setSettings=function(t){this._settings.precision=t.precision,this._settings.enableThousandsSeparator=t.thousandsSeparatorEnabled,this._mathJs.config({number:"BigNumber",precision:t.precision})},r.Calculator.prototype.installExtension=function(t){t.extend(this._mathJs),this._extensions.push(t)},r.Calculator.prototype.evaluate=function(e){var t=new r.EvaluatedExpression;if(!r.isStringBlank(e)){var n=this._preprocessExpression(e);try{var i=this._mathJs.parse(n);t.tex=this._nodeToTex(i);var o=(i=this._transformAst(i)).compile().evaluate(this._scope);this._storeLastExpressionResult(o),this._isValidValue(o)&&(o instanceof r.CallbackResult?t.result.raw=o:(t.result.raw=this._mathJs.format(o,this._numberFormatter),t.result.postprocessed=this._postprocessValue(t.result.raw,o),t.result.tex=this._valueToTex(t.result.raw,o)))}catch(t){throw t.message||(t.message="Failed to parse expression"),e!==n&&(t.message+=". Preprocessed expression: '"+n+"'"),t}}return t},r.Calculator.prototype._preprocessExpression=function(t){for(var e=0;e<this._extensions.length;++e){var n=this._extensions[e];n.preprocess&&(t=n.preprocess(t))}return t},r.Calculator.prototype._postprocessValue=function(t,e){if("object"==typeof e&&"Help"===e.type)return"<pre>"+t+"</pre>";for(var n=0;n<this._extensions.length;++n){var i=this._extensions[n];i.postprocess&&(t=i.postprocess(t))}return t},r.Calculator.prototype._nodeToTex=function(t){try{return t.toTex({handler:this._customTexHandler})}catch(t){return r.log(t.name+", "+t.message),"-"}},r.Calculator.prototype._valueToTex=function(t,e){if("object"!=typeof e||"Help"!==e.type)try{return t=t.replace(this._thousandsSeparatorRegexp,""),this._mathJs.parse(this._preprocessExpression(t)).toTex()}catch(t){return r.log(t.name+", "+t.message),"Failed to convert expression value to TeX"}},r.Calculator.prototype._isValidValue=function(t){return void 0!==t&&"function"!=typeof t},r.Calculator.prototype._registerAliases=function(){var t,e,n=this,i={};return this._mathJs.nCr||(t=this._mathJs.typed("nCr",{"BigNumber, BigNumber":function(t,e){return n._mathJs.combinations(t,e)}}),this._mathJs.import({nCr:t})),i.nCr={name:"combinations",help:new n._mathJs.Help({name:"nCr",category:"Aliases",description:"'nCr' is an alias for 'combinations', see 'help(combinations)' for more information",syntax:["nCr(n, k)"],seealso:["combinations"]})},this._mathJs.nPr||(e=this._mathJs.typed("nPr",{BigNumber:function(t){return n._mathJs.permutations(t)},"BigNumber, BigNumber":function(t,e){return n._mathJs.permutations(t,e)}}),this._mathJs.import({nPr:e})),i.nPr={name:"permutations",help:new n._mathJs.Help({name:"nPr",category:"Aliases",description:"'nPr' is an alias for 'permutations', see 'help(permutations)' for more information",syntax:["nPr(n)","nPr(n, k)"],seealso:["permutations"]})},this._mathJs.ln||(e=this._mathJs.typed("ln",{BigNumber:function(t){return n._mathJs.log(t)}}),this._mathJs.import({ln:e})),i.ln={name:"log",help:new n._mathJs.Help({name:"ln",category:"Aliases",description:"'ln' is an alias for 'log' with 'e' as the base (natural logarithm), see 'help(log)' for more information",syntax:["ln(x)"],seealso:["log"]})},i},r.Calculator.prototype._initializeCustomTexHandler=function(n){var i=this;this._customTexHandler=function(t,e){return"FunctionNode"===t.type&&t.name&&t.name in n?new i._mathJs.FunctionNode(n[t.name].name,t.args).toTex(e):"$"===t.name?"SymbolNode"===t.type?"\\mathtt{\\$}":"FunctionNode"===t.type?t.toTex().replace("$","\\$"):void 0:void 0}},r.Calculator.prototype._formatNumberAddDigitGrouping=function(t){return this._decimalNumberRegexp.test(t)?r.addThousandsSeparator(t,this._thousandsSeparator):t},r.Calculator.prototype._storeLastExpressionResult=function(t){null==t||t instanceof r.CallbackResult?this._lastExpressionResult=void 0:this._lastExpressionResult=t},r.Calculator.prototype._transformAst=function(t){var e=this;return"SymbolNode"===t.type&&"help"===t.name?new e._mathJs.FunctionNode("_printHelp",[]):t.transform(function(t){return t.isSymbolNode&&"$"===t.name?new e._mathJs.ConstantNode(e._lastExpressionResult):t})},r.Calculator.prototype._initializeHelp=function(n){var i=this._mathJs.help;this._mathJs.help=function(t){var e="function"==typeof t?t.name:t;return e&&n[e]?n[e].help:i(t)}}}(window.clc=window.clc||{}),(window.clc=window.clc||{}).CallbackResult=function(t){this.callback=t},(window.clc=window.clc||{}).EvaluatedExpression=function(){this.tex=null,this.result={raw:null,postprocessed:null}},function(t){t.MATH_JS_CONSTANTS=["e","E","i","Infinity","NaN","null","LN2","LN10","LOG2E","LOG10E","phi","pi","PI","tau","SQRT1_2","SQRT2","version"],t.MATH_JS_FUNCTIONS=["bignumber","boolean","chain","complex","createUnit","fraction","index","matrix","number","sparse","splitUnit","string","unit","compile","evaluate","help","parse","parser","derivative","lsolve","lsolveAll","lup","lusolve","qr","simplify","slu","usolve","usolveAll","rationalize","abs","add","cbrt","ceil","cube","divide","dotDivide","dotMultiply","dotPow","exp","expm1","fix","floor","gcd","hypot","invmod","lcm","log","log10","log1p","log2","mod","multiply","norm","nthRoot","nthRoots","pow","round","sign","sqrt","square","subtract","unaryMinus","unaryPlus","xgcd","bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift","bellNumbers","catalan","composition","stirlingS2","arg","conj","im","re","distance","intersect","and","not","or","xor","column","concat","count","cross","ctranspose","det","diag","diff","dot","eigs","expm","filter","flatten","forEach","getMatrixDataType","identity","inv","kron","map","matrixFromColumns","matrixFromFunction","matrixFromRows","ones","partitionSelect","range","reshape","resize","rotate","rotationMatrix","row","size","sort","sqrtm","squeeze","subset","trace","transpose","zeros","combinations","combinationsWithRep","factorial","gamma","kldivergence","multinomial","permutations","pickRandom","random","randomInt","compare","compareNatural","compareText","deepEqual","equal","equalText","larger","largerEq","smaller","smallerEq","unequal","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","erf","mad","max","mean","median","min","mode","prod","quantileSeq","std","sum","variance","bin","format","hex","oct","print","acos","acosh","acot","acoth","acsc","acsch","asec","asech","asin","asinh","atan","atan2","atanh","cos","cosh","cot","coth","csc","csch","sec","sech","sin","sinh","tan","tanh","to","clone","hasNumericValue","isInteger","isNaN","isNegative","isNumeric","isPositive","isPrime","isZero","numeric","typeOf"],t.CLCALC_FUNCTIONS=["Color4b","color4b","color3b","color4f","colorU32","colorHsv","colorHsl","hsv","hsl","rgb","argb","argbf","base64Encode","base64Decode","toCodePoints","fromCodePoints","toUtf8","fromUtf8","md5","sha1","sha224","sha256","lerp","plot2d"],t.ALIASES=["nCr","nPr","ln"],t.TERMINAL_COMMANDS=["clear"],t.COMPLETION_KEYWORDS=[].concat(t.MATH_JS_CONSTANTS,t.MATH_JS_FUNCTIONS,t.CLCALC_FUNCTIONS,t.ALIASES,t.TERMINAL_COMMANDS)}(window.clc=window.clc||{}),function(o){o.ColorExtension=function(t){this._mathJs=null,this._colorLiteral4bRegexp=new RegExp("#[A-Fa-f0-9]{8}","g"),this._colorLiteral43bRegexp=new RegExp("#[A-Fa-f0-9]{6,8}","g"),t&&(this._visibleTooltipIds=[],this._initializeColorTooltips())},o.ColorExtension.prototype.extend=function(t){this._mathJs=t,this._mathJs.typed.addType({name:"Color",test:function(t){return t&&t instanceof o.Color}}),this._registerFunction("Color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return o.Color.from4b(t,e,n,i)},!1,function(t){return"\\mathtt{\\"+o.Color.from4b(parseInt(t.args[0].value),parseInt(t.args[1].value),parseInt(t.args[2].value),parseInt(t.args[3].value)).toString()+"}"}),this._registerFunction("color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return o.Color.from4b(t,e,n,i)}),this._registerFunction("color3b","BigNumber, BigNumber, BigNumber",function(t,e,n){return o.Color.from4b(255,t,e,n)}),this._registerFunction("color4f","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return o.Color.from4f(t,e,n,i)}),this._registerFunction("colorU32","BigNumber",function(t){return o.Color.fromU32(t)}),this._registerFunction("colorHsv","BigNumber, BigNumber, BigNumber",function(t,e,n){return o.Color.fromHsv(t,e,n)}),this._registerFunction("colorHsl","BigNumber, BigNumber, BigNumber",function(t,e,n){return o.Color.fromHsl(t,e,n)}),this._registerFunction("hsv","Color",function(t){return t.toHsv()},!0),this._registerFunction("hsl","Color",function(t){return t.toHsl()},!0),this._registerFunction("rgb","Color",function(t){return t.toArgb().splice(1)},!0),this._registerFunction("argb","Color",function(t){return t.toArgb()},!0),this._registerFunction("argbf","Color",function(t){return t.toArgbf()},!0),this._registerFunction("add","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t+e})}),this._registerFunction("subtract","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t-e})}),this._registerFunction("multiply","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t*e})}),this._registerFunction("multiply","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t*e})}),this._registerFunction("multiply","BigNumber, Color",function(t,e){return e.op([t,t,t,t],function(t,e){return t*e})}),this._registerFunction("divide","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t/e})}),this._registerFunction("divide","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t/e})})},o.ColorExtension.prototype.preprocess=function(t){return t.replace(this._colorLiteral43bRegexp,function(t){if(9!==t.length&&7!==t.length)throw new Error("Invalid color literal: "+t);var e=t.substr(9===t.length?3:1),n=e.substr(0,2),i=e.substr(2,2),e=e.substr(4,2),t=9===t.length?t.substr(1,2):"FF";return"Color4b("+parseInt(t,16)+", "+parseInt(n,16)+", "+parseInt(i,16)+", "+parseInt(e,16)+")"})},o.ColorExtension.prototype.postprocess=function(t){var e=this;return t.replace(this._colorLiteral4bRegexp,function(t){return e._generateColorSampleHtml(t)})},o.ColorExtension.prototype._generateColorSampleHtml=function(t){var e="#"+t.substr(3),n=parseInt(t.substr(1,2),16)/255;return'<div class="color-sample" data-color="'+t+'"><div style="background-color: '+e+"; opacity: "+n+'">&nbsp;</div></div>'},o.ColorExtension.prototype._initializeColorTooltips=function(){var o=this;$("body").tooltip({placement:"top",container:"body",selector:".color-sample",trigger:"click",template:'<div class="tooltip color-sample-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:function(){return $(this).data("color")}}),$(document).on("shown.bs.tooltip",".color-sample",function(t){o._visibleTooltipIds.push($(t.target).attr("aria-describedby"))}),$(document).on("click",function(t){if(o._visibleTooltipIds.length){var e=$(t.target),n=$(t.target).parent();if(!$(".color-sample-tooltip").has(t.target).length&&!(e.hasClass("color-sample")||n&&n.length&&n.hasClass("color-sample"))){for(var i=0;i<o._visibleTooltipIds.length;++i)$("#"+o._visibleTooltipIds[i]).tooltip("hide");o._visibleTooltipIds=[]}}}),$(document).on("hidden.bs.tooltip",function(t){$(t.target).data("bs.tooltip").inState.click=!1})},o.ColorExtension.prototype._registerFunction=function(t,e,n,i,o){try{var r={},s={},a=o||null,l=this;r[e]=n,i&&(r["Array | Matrix"]=function(t){return l._mathJs.map(t,n)}),s[t]=this._mathJs.typed(t,r),a&&(s[t].toTex=a),this._mathJs.import(s)}catch(t){if(!t.data||!t.data.signature)throw t}}}(window.clc=window.clc||{}),function(a){function o(t){t=a.mathJsToValidNumber(t);if(t<0||1<t)throw new Error("Must be floating point number in range [0, 1]");return Math.round(255*t)}a.Color=function(t){this._argb=t>>>0},a.Color.from4b=function(t,e,n,i){return new a.Color(a.toUint8(t)<<24|a.toUint8(e)<<16|a.toUint8(n)<<8|a.toUint8(i))},a.Color.from4f=function(t,e,n,i){return new a.Color.from4b(o(t),o(e),o(n),o(i))},a.Color.fromU32=function(t){return new a.Color(a.toUint32(t))},a.Color.fromHsv=function(t,e,n){if(t=a.toUint32(t),e=a.toUint32(e),n=a.toUint32(n),360<=t)throw new Error("Hue must be in range [0, 360)");if(100<e)throw new Error("Saturation must be in range [0, 100]");if(100<n)throw new Error("Value must be in range [0, 100]");var i=(n/=100)*(e/=100),e=i*(1-Math.abs(t/60%2-1)),n=n-i,e=t<60?[i,e,0]:t<120?[e,i,0]:t<180?[0,i,e]:t<240?[0,e,i]:t<300?[e,0,i]:[i,0,e];return a.Color.from4b(255,Math.round(255*(e[0]+n)),Math.round(255*(e[1]+n)),Math.round(255*(e[2]+n)))},a.Color.fromHsl=function(t,e,n){if(t=a.toUint32(t),e=a.toUint32(e),n=a.toUint32(n),360<=t)throw new Error("Hue must be in range [0, 360)");if(100<e)throw new Error("Saturation must be in range [0, 100]");if(100<n)throw new Error("Lightness must be in range [0, 100]");e/=100,n/=100;var i=(1-Math.abs(2*n-1))*e,e=i*(1-Math.abs(t/60%2-1)),n=n-.5*i,e=t<60?[i,e,0]:t<120?[e,i,0]:t<180?[0,i,e]:t<240?[0,e,i]:t<300?[e,0,i]:[i,0,e];return a.Color.from4b(255,Math.round(255*(e[0]+n)),Math.round(255*(e[1]+n)),Math.round(255*(e[2]+n)))},a.Color.prototype.get=function(t){return this._argb>>>24-8*t&255},a.Color.prototype.toString=function(){return"#"+(a.padLeft(this.get(0).toString(16),"0",2)+a.padLeft(this.get(1).toString(16),"0",2)+a.padLeft(this.get(2).toString(16),"0",2)+a.padLeft(this.get(3).toString(16),"0",2)).toUpperCase()},a.Color.prototype.op=function(t,e){for(var n=this.toArgbf(),i=0;i<4;++i)n[i]=a.clamp(e(n[i],a.mathJsToValidNumber(t[i])),0,1);return a.Color.from4f(n[0],n[1],n[2],n[3])},a.Color.prototype.toHsv=function(){var t,e=this.get(1)/255,n=this.get(2)/255,i=this.get(3)/255,o=Math.max(e,n,i),r=o-Math.min(e,n,i);return 0==r?t=0:o===e?t=60*a.mod((n-i)/r,6):o===n?t=60*((i-e)/r+2):o===i&&(t=60*((e-n)/r+4)),r=0==o?0:r/o,o=o,[Math.round(t),Math.round(100*r),Math.round(100*o)]},a.Color.prototype.toHsl=function(){var t,e=this.get(1)/255,n=this.get(2)/255,i=this.get(3)/255,o=Math.max(e,n,i),r=Math.min(e,n,i),s=o-r;return 0==s?t=0:o===e?t=60*a.mod((n-i)/s,6):o===n?t=60*((i-e)/s+2):o===i&&(t=60*((e-n)/s+4)),r=(o+r)/2,s=0==s?0:s/(1-Math.abs(2*r-1)),[Math.round(t),Math.round(100*s),Math.round(100*r)]},a.Color.prototype.toArgb=function(){return[this.get(0),this.get(1),this.get(2),this.get(3)]},a.Color.prototype.toArgbf=function(){return[this.get(0)/255,this.get(1)/255,this.get(2)/255,this.get(3)/255]}}(window.clc=window.clc||{}),function(e){e.Base64EncodingExtension=function(){this._mathJs=null},e.Base64EncodingExtension.prototype.extend=function(t){var e,n=this;this._mathJs=t,this._mathJs.base64Encode||(e=this._mathJs.typed("base64Encode",{Array:function(t){return n._functionBase64Encode(t)}}),this._mathJs.import({base64Encode:e})),this._mathJs.base64Decode||(e=this._mathJs.typed("base64Decode",{string:function(t){return n._functionBase64Decode(t)}}),this._mathJs.import({base64Decode:e}))},e.Base64EncodingExtension.prototype._functionBase64Encode=function(t){return null==t?"":e.base64Encode(t)},e.Base64EncodingExtension.prototype._functionBase64Decode=function(t){return null==t?[]:e.base64Decode(t)}}(window.clc=window.clc||{}),function(e){e.UnicodeEncodingExtension=function(){this._mathJs=null},e.UnicodeEncodingExtension.prototype.extend=function(t){var e,n,i=this;this._mathJs=t,this._mathJs.toCodePoints||(e=this._mathJs.typed("toCodePoints",{string:function(t){return i._functionToCodePoints(t)}}),this._mathJs.import({toCodePoints:e})),this._mathJs.fromCodePoints||(e=this._mathJs.typed("fromCodePoints",{Array:function(t){return i._functionFromCodePoints(t)}}),this._mathJs.import({fromCodePoints:e})),this._mathJs.toUtf8||(n=this._mathJs.typed("toUtf8",{string:function(t){return i._functionToUtf8(t)}}),this._mathJs.import({toUtf8:n})),this._mathJs.fromUtf8||(n=this._mathJs.typed("fromUtf8",{Array:function(t){return i._functionFromUtf8(t)}}),this._mathJs.import({fromUtf8:n}))},e.UnicodeEncodingExtension.prototype._functionToCodePoints=function(t){return null==t||0===t.length?[]:e.stringToUnicodeCodePointList(t)},e.UnicodeEncodingExtension.prototype._functionFromCodePoints=function(t){return null==t||0===t.length?"":e.stringFromUnicodeCodePointList(t)},e.UnicodeEncodingExtension.prototype._functionToUtf8=function(t){return null==t||0===t.length?[]:e.stringToUtf8Array(t)},e.UnicodeEncodingExtension.prototype._functionFromUtf8=function(t){return null==t||0===t.length?"":e.stringFromUtf8Array(t)}}(window.clc=window.clc||{}),function(e){e.HashesExtension=function(){this._mathJs=null},e.HashesExtension.prototype.extend=function(t){var e,n,i=this;this._mathJs=t,this._mathJs.md5||(e=this._mathJs.typed("md5",{Array:function(t){return i._functionMd5(t)}}),this._mathJs.import({md5:e})),this._mathJs.sha1||(e=this._mathJs.typed("sha1",{Array:function(t){return i._functionSha1(t)}}),this._mathJs.import({sha1:e})),this._mathJs.sha224||(n=this._mathJs.typed("sha224",{Array:function(t){return i._functionSha224(t)}}),this._mathJs.import({sha224:n})),this._mathJs.sha256||(n=this._mathJs.typed("sha256",{Array:function(t){return i._functionSha256(t)}}),this._mathJs.import({sha256:n}))},e.HashesExtension.prototype._functionMd5=function(t){if(null==t)throw new Error("Invalid argument");return e.md5(t)},e.HashesExtension.prototype._functionSha1=function(t){if(null==t)throw new Error("Invalid argument");return e.sha1(t)},e.HashesExtension.prototype._functionSha224=function(t){if(null==t)throw new Error("Invalid argument");return e.sha224(t)},e.HashesExtension.prototype._functionSha256=function(t){if(null==t)throw new Error("Invalid argument");return e.sha256(t)}}(window.clc=window.clc||{}),function(_){var d,m,e,L=16777215;function b(t,e){return(t<<e|t>>>32-e)>>>0}function T(t,e){return(t>>>e|t<<32-e)>>>0}function f(t){return((4278190080&t)>>>24|(16711680&t)>>>8|(65280&t)<<8|(255&t)<<24)>>>0}function v(t,e,n){return(_.toUint8(t[e+4*n+3])<<24|_.toUint8(t[e+4*n+2])<<16|_.toUint8(t[e+4*n+1])<<8|_.toUint8(t[e+4*n]))>>>0}function k(t,e,n){return f(v(t,e,n))}function N(t,e){return 0===t?e:1+(t-1|63)}function F(t){for(var e=[],n=0;n<t.length;++n)e.push(_.toUint8(t[n]));return e}function D(t,e,n){for(var i=0;i<n;++i)t.push(e)}function J(t,e,n,i){i||(i=e,e=f(n),n=f(i));for(var o=0;o<8;++o)o<4?t.push(n>>>8*o&255):t.push(e>>>8*(o-4)&255)}function n(t,e,n,i,o,r,s,a,l,c){if(t.length>L)throw new Error("Array is too big. Maximum allowed size: "+L);var h=F(t),t=t.length;h.push(128),D(h,0,N(t+9)-t-9),J(h,0,8*t,!1);for(var u=0;u<h.length;u+=64){for(var p,g,d=n,m=i,f=o,_=r,b=s,v=a,x=l,y=c,w=[],S=0;S<64;++S)S<16?w.push(k(h,u,S)):(p=T(w[S-15],7)^T(w[S-15],18)^w[S-15]>>>3,g=T(w[S-2],17)^T(w[S-2],19)^w[S-2]>>>10,w.push(w[S-16]+p+w[S-7]+g>>>0));for(S=0;S<64;++S)var E=T(b,6)^T(b,11)^T(b,25),C=T(d,2)^T(d,13)^T(d,22),P=d&m^d&f^m&f,E=y+E+(b&v^~b&x)+e[S]+w[S]>>>0,y=x,x=v,v=b,b=_+E>>>0,_=f,f=m,m=d,d=E+(C+P>>>0)>>>0;n=n+d>>>0,i=i+m>>>0,o=o+f>>>0,r=r+_>>>0,s=s+b>>>0,a=a+v>>>0,l=l+x>>>0,c=c+y>>>0}return[n,i,o,r,s,a,l,c]}d=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745],_.md5=function(t){if(t.length>L)throw new Error("Array is too big. Maximum allowed size: "+L);var e=F(t),t=t.length;e.push(128),D(e,0,N(t+9)-t-9),J(e,0,8*t,!0);for(var n=1732584193,i=4023233417,o=2562383102,r=271733878,s=0;s<e.length;s+=64){for(var a=n,l=i,c=o,h=r,u=0;u<64;++u)var p=u<16?(g=l&c|~l&h,u):u<32?(g=h&l|~h&c,(5*u+1)%16):u<48?(g=l^c^h,(3*u+5)%16):(g=c^(l|~h),7*u%16),g=g+a+m[u]+v(e,s,p)>>>0,a=h,h=c,c=l,l=l+b(g,d[u])>>>0;n=n+a>>>0,i=i+l>>>0,o=o+c>>>0,r=r+h>>>0}return _.padLeft(f(n).toString(16),"0",8)+_.padLeft(f(i).toString(16),"0",8)+_.padLeft(f(o).toString(16),"0",8)+_.padLeft(f(r).toString(16),"0",8)},_.sha1=function(t){if(t.length>L)throw new Error("Array is too big. Maximum allowed size: "+L);var e=F(t),t=t.length;e.push(128),D(e,0,N(t+9)-t-9),J(e,0,8*t,!1);for(var n=1732584193,i=4023233417,o=2562383102,r=271733878,s=3285377520,a=0;a<e.length;a+=64){for(var l=n,c=i,h=o,u=r,p=s,g=[],d=0;d<80;++d)d<16?g.push(k(e,a,d)):g.push(b(g[d-3]^g[d-8]^g[d-14]^g[d-16],1));for(d=0;d<80;++d)var m,f=d<20?(m=c&h|~c&u,1518500249):d<40?(m=c^h^u,1859775393):d<60?(m=c&h|c&u|h&u,2400959708):(m=c^h^u,3395469782),f=b(l,5)+m+p+f+g[d]>>>0,p=u,u=h,h=b(c,30),c=l,l=f;n=n+l>>>0,i=i+c>>>0,o=o+h>>>0,r=r+u>>>0,s=s+p>>>0}return _.padLeft(n.toString(16),"0",8)+_.padLeft(i.toString(16),"0",8)+_.padLeft(o.toString(16),"0",8)+_.padLeft(r.toString(16),"0",8)+_.padLeft(s.toString(16),"0",8)},e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_.sha224=function(t){t=n(t,e,3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428);return _.padLeft(t[0].toString(16),"0",8)+_.padLeft(t[1].toString(16),"0",8)+_.padLeft(t[2].toString(16),"0",8)+_.padLeft(t[3].toString(16),"0",8)+_.padLeft(t[4].toString(16),"0",8)+_.padLeft(t[5].toString(16),"0",8)+_.padLeft(t[6].toString(16),"0",8)},_.sha256=function(t){t=n(t,e,1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);return _.padLeft(t[0].toString(16),"0",8)+_.padLeft(t[1].toString(16),"0",8)+_.padLeft(t[2].toString(16),"0",8)+_.padLeft(t[3].toString(16),"0",8)+_.padLeft(t[4].toString(16),"0",8)+_.padLeft(t[5].toString(16),"0",8)+_.padLeft(t[6].toString(16),"0",8)+_.padLeft(t[7].toString(16),"0",8)}}(window.clc=window.clc||{}),function(i){i.LerpExtension=function(){this._mathJs=null},i.LerpExtension.prototype.extend=function(t){var i=this;this._mathJs=t,this._mathJs.lerp||(t=this._mathJs.typed("lerp",{"BigNumber, BigNumber, BigNumber":function(t,e,n){return i._functionLerpNumber(t,e,n)},"Color, Color, BigNumber":function(t,e,n){return i._functionLerpColor(t,e,n)}}),this._mathJs.import({lerp:t}))},i.LerpExtension.prototype._functionLerpNumber=function(t,e,n){if(n.lessThan(0)||n.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");t=new this._mathJs.bignumber(1).minus(n).times(t),e=n.times(e);return t.plus(e)},i.LerpExtension.prototype._functionLerpColor=function(t,e,n){if(n.lessThan(0)||n.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");n=i.mathJsToValidNumber(n),t=t.op([1-n,1-n,1-n,1-n],function(t,e){return t*e}),n=e.op([n,n,n,n],function(t,e){return t*e});return t.op(n.toArgbf(),function(t,e){return t+e})}}(window.clc=window.clc||{}),function(c){c.FunctionPlot2D=function(t,e,n,i,o,r){this.id=c.randomId("plot2d-"),this._mathJs=r;var s=o.totalWidth-o.axisYWidth,a=o.totalHeight-o.axisXHeight-o.legendHeight,l=Math.abs(s/(n[1]-n[0])),r=s/2-.5*(n[0]+n[1])*l;this._graphParameters={size:{width:s,height:a},transform:{x:{scale:l,offset:r},y:{scale:-l,offset:a/2}},scale:{x:{begin:0,step:0},y:{begin:0,step:0}},offset:{x:o.axisYWidth,y:o.legendHeight},state:{isDragging:!1,beginDragX:0,beginDragY:0}},this._function={expression:t,variable:e,domain:n,scope:i},this._attributes={svg:{id:this.id,class:"function-plot2d",width:o.totalWidth,height:o.totalHeight},"svg.legend.text":{class:"function-plot2d-legend","text-anchor":"end",x:o.totalWidth,y:15},"svg.canvas.g":{class:"function-plot2d-canvas",transform:"translate(0, "+o.legendHeight+")"},"svg.canvas.defs.clipPath":{id:"clip-path-"+this.id},"svg.canvas.defs.clipPath.rect":{width:this._graphParameters.size.width,height:this._graphParameters.size.height},"svg.canvas.axisX.g":{class:"function-plot2d-axis-x",transform:"translate("+o.axisYWidth+", "+this._graphParameters.size.height+")"},"svg.canvas.axisX.g.path":{"shape-rendering":"crispedges",d:"M0,0H"+this._graphParameters.size.width},"svg.canvas.axisX.g.scale.g.text":{style:"text-anchor: middle;",y:"1.5em"},"svg.canvas.axisX.g.scale.g.line":{x1:0,y1:0,x2:0,y2:5,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.axisY.g":{class:"function-plot2d-axis-y",transform:"translate("+o.axisYWidth+", 0)"},"svg.canvas.axisY.g.path":{"shape-rendering":"crispedges",d:"M0,0V"+this._graphParameters.size.height},"svg.canvas.axisY.g.scale.g.text":{style:"text-anchor: end;",x:"-0.5em",dy:"0.31em"},"svg.canvas.axisY.g.scale.g.line":{x1:0,y1:0,x2:-5,y2:0,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.eventGrabArea.rect":{class:"function-plot2d-event-grab",width:this._graphParameters.size.width,height:this._graphParameters.size.height,fill:"none",x:o.axisYWidth},"svg.canvas.graph.g":{transform:"translate("+o.axisYWidth+", 0)","clip-path":"url(#clip-path-"+this.id+")"},"svg.canvas.graph.originX.path":{class:"function-plot2d-origin-x","stroke-width":"1","shape-rendering":"crispedges",d:"M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width},"svg.canvas.graph.originY.path":{class:"function-plot2d-origin-y","stroke-width":"1","shape-rendering":"crispedges",d:"M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height},"svg.canvas.graph.data.path":{class:"function-plot2d-graph","stroke-width":1,fill:"none","stroke-linecap":"round",d:""}},this._xmlns="http://www.w3.org/2000/svg",this._elements={},this.update()},c.FunctionPlot2D.isEventConsumed=function(t){return 1===$(t.target).closest(".function-plot2d-event-grab").length},c.FunctionPlot2D.prototype.svg=function(){return this._elements={},c.htmlTag("svg",this._attributes.svg,[this._legend(),this._canvas()])},c.FunctionPlot2D.prototype.update=function(){var t;this._elements.svg||(t=$("#"+this.id)).length&&(this._elements.svg=t.eq(0),this._elements.axis={x:this._elements.svg.find("."+this._attributes["svg.canvas.axisX.g"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.axisY.g"].class).eq(0)},this._elements.origin={x:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originX.path"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originY.path"].class).eq(0)},this._elements.graph=this._elements.svg.find("."+this._attributes["svg.canvas.graph.data.path"].class).eq(0)),this._updateAxisScale(),this._updateOrigin(),this._updateFunctionData()},c.FunctionPlot2D.prototype.setPointerCoordinates=function(t,e){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class));var n=1/this._graphParameters.transform.x.scale,n=Math.floor(Math.log10(n)),n=Math.abs(c.clamp(n-1,-15,0)),t=(+this._fromScreenX(t-this._graphParameters.offset.x).toFixed(n)).toString(),n=(+this._fromScreenY(e-this._graphParameters.offset.y).toFixed(n)).toString();this._elements.legend.text("X: "+t+", Y: "+n)},c.FunctionPlot2D.prototype.clearLegend=function(){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class)),this._elements.legend.text("")},c.FunctionPlot2D.prototype.zoom=function(t){t=0<t?1.1:.9;this._graphParameters.transform.x.scale*=t,this._graphParameters.transform.y.scale*=t,this.update()},c.FunctionPlot2D.prototype.beginDrag=function(t,e){this._graphParameters.state.isDragging=!0,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e},c.FunctionPlot2D.prototype.endDrag=function(){this._graphParameters.state.isDragging=!1},c.FunctionPlot2D.prototype.onDrag=function(t,e){this._graphParameters.state.isDragging&&(this._graphParameters.transform.x.offset+=t-this._graphParameters.state.beginDragX,this._graphParameters.transform.y.offset+=e-this._graphParameters.state.beginDragY,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e,this.update())},c.FunctionPlot2D.prototype._legend=function(){return c.htmlTag("text",this._attributes["svg.legend.text"])},c.FunctionPlot2D.prototype._canvas=function(){return c.htmlTag("g",this._attributes["svg.canvas.g"],[this._defs(),this._axisX(),this._axisY(),this._graph(),this._eventGrabArea()])},c.FunctionPlot2D.prototype._defs=function(){return c.htmlTag("defs",null,c.htmlTag("clipPath",this._attributes["svg.canvas.defs.clipPath"],c.htmlTag("rect",this._attributes["svg.canvas.defs.clipPath.rect"])))},c.FunctionPlot2D.prototype._axisX=function(){var t=this._axisXScale(!1);return t.push(c.htmlTag("path",this._attributes["svg.canvas.axisX.g.path"])),c.htmlTag("g",this._attributes["svg.canvas.axisX.g"],t)},c.FunctionPlot2D.prototype._axisY=function(){var t=this._axisYScale(!1);return t.push(c.htmlTag("path",this._attributes["svg.canvas.axisY.g.path"])),c.htmlTag("g",this._attributes["svg.canvas.axisY.g"],t)},c.FunctionPlot2D.prototype._axisXScale=function(t){for(var i=this,e=[],n=t?function(t,e,n){return c.domElement(i._xmlns,t,e,n)}:c.htmlTag,o=this._boundsX(),r=this._graphParameters.scale.x.begin;r<=o[1];r+=this._graphParameters.scale.x.step){var s=n("g",{transform:"translate("+this._toScreenX(r)+", 0)"},[n("text",this._attributes["svg.canvas.axisX.g.scale.g.text"],this._prettyPrintNumber(r)),n("line",this._attributes["svg.canvas.axisX.g.scale.g.line"])]);e.push(s)}return e},c.FunctionPlot2D.prototype._axisYScale=function(t){for(var i=this,e=[],n=t?function(t,e,n){return c.domElement(i._xmlns,t,e,n)}:c.htmlTag,o=this._boundsY(),r=this._graphParameters.scale.y.begin;r<=o[1];r+=this._graphParameters.scale.y.step){var s=n("g",{transform:"translate(0, "+this._toScreenY(r)+")"},[n("text",this._attributes["svg.canvas.axisY.g.scale.g.text"],this._prettyPrintNumber(r)),n("line",this._attributes["svg.canvas.axisY.g.scale.g.line"])]);e.push(s)}return e},c.FunctionPlot2D.prototype._graph=function(){return this._attributes["svg.canvas.graph.data.path"].d=this._data,c.htmlTag("g",this._attributes["svg.canvas.graph.g"],[this._origin(),c.htmlTag("path",this._attributes["svg.canvas.graph.data.path"])])},c.FunctionPlot2D.prototype._origin=function(){return c.htmlTag("path",this._attributes["svg.canvas.graph.originX.path"])+c.htmlTag("path",this._attributes["svg.canvas.graph.originY.path"])},c.FunctionPlot2D.prototype._updateOrigin=function(){this._elements.origin&&(this._elements.origin.x.attr("d","M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width),this._elements.origin.y.attr("d","M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height))},c.FunctionPlot2D.prototype._eventGrabArea=function(){return c.htmlTag("rect",this._attributes["svg.canvas.eventGrabArea.rect"])},c.FunctionPlot2D.prototype._updateFunctionData=function(){this._data=this._sampleFunctionData(),this._elements.graph&&this._elements.graph.attr("d",this._data)},c.FunctionPlot2D.prototype._sampleFunctionData=function(){for(var t,e,n,i=1/this._graphParameters.transform.x.scale,o=1073741824,r=this._boundsX(),s="M",a="",l=r[0];l<=r[1];l+=i)this._function.scope.set(this._function.variable,this._mathJs.bignumber(l)),t="number"==typeof(n=this._function.expression.evaluate(this._function.scope))||n instanceof Number,e=!!n.toNumber,s=!(null==n)&&(t&&isFinite(n)||e&&n.isFinite())?(n=c.clamp(this._toScreenY(e?n.toNumber():n),-o,o),a+=s+c.round1Dec(this._toScreenX(l))+", "+c.round1Dec(n),"L"):"M";return a},c.FunctionPlot2D.prototype._updateAxisScale=function(){if(this._graphParameters.scale.x=this._calculateScaleParameters(this._boundsX()[0],this._graphParameters.size.width/this._graphParameters.transform.x.scale),this._graphParameters.scale.y=this._calculateScaleParameters(this._boundsY()[0],-this._graphParameters.size.height/this._graphParameters.transform.y.scale),this._elements.axis){this._elements.axis.x.find("g").remove();for(var t=this._axisXScale(!0),e=0;e<t.length;++e)this._elements.axis.x.append(t[e]);for(this._elements.axis.y.find("g").remove(),t=this._axisYScale(!0),e=0;e<t.length;++e)this._elements.axis.y.append(t[e])}},c.FunctionPlot2D.prototype._calculateScaleParameters=function(t,e){var n=Math.pow(10,Math.floor(Math.log10(e)+.2)),e=e/n,e=(e<=1.5?1:e<=3?2:5)*n/10,t=Math.ceil(t/e);return{begin:1<=e?t*e:t*(10/n*e)/(10/n),step:e}},c.FunctionPlot2D.prototype._prettyPrintNumber=function(t){return 0==t?"0":(+t.toFixed(14)).toString()},c.FunctionPlot2D.prototype._toScreenX=function(t){return t*this._graphParameters.transform.x.scale+this._graphParameters.transform.x.offset},c.FunctionPlot2D.prototype._toScreenY=function(t){return t*this._graphParameters.transform.y.scale+this._graphParameters.transform.y.offset},c.FunctionPlot2D.prototype._fromScreenX=function(t){return(t-this._graphParameters.transform.x.offset)/this._graphParameters.transform.x.scale},c.FunctionPlot2D.prototype._fromScreenY=function(t){return(t-this._graphParameters.transform.y.offset)/this._graphParameters.transform.y.scale},c.FunctionPlot2D.prototype._boundsX=function(){return[this._fromScreenX(0),this._fromScreenX(this._graphParameters.size.width)]},c.FunctionPlot2D.prototype._boundsY=function(){return[this._fromScreenY(this._graphParameters.size.height),this._fromScreenY(0)]}}(window.clc=window.clc||{}),function(i){i.PlotExtension=function(){this._mathJs=null,this._plots={},this._defaultPlotParameters={totalWidth:500,totalHeight:350,legendHeight:20,axisXHeight:25,axisYWidth:50},this._initializeEventListeners()},i.PlotExtension.prototype.extend=function(t){var i=this;this._mathJs=t,this._mathJs.plot2d||((t=function(t,e,n){return i._functionPlot2D(t,n)}).rawArgs=!0,this._mathJs.import({plot2d:t}))},i.PlotExtension.prototype._initializeEventListeners=function(){var i=this;function o(t){return $(t).parent().parent()}$(document).on({mousemove:function(t){var e=o(t.target),n=i._plots[e.attr("id")],e=e.offset();n.setPointerCoordinates(Math.round(t.pageX-e.left),Math.round(t.pageY-e.top)),n.onDrag(t.clientX,t.clientY),t.preventDefault()},mouseout:function(t){t=i._plots[o(t.target).attr("id")];t.clearLegend(),t.endDrag()},mousedown:function(t){i._plots[o(t.target).attr("id")].beginDrag(t.clientX,t.clientY),t.preventDefault()},mouseup:function(t){i._plots[o(t.target).attr("id")].endDrag(),t.preventDefault()},mousewheel:function(t){i._plots[o(t.target).attr("id")].zoom(t.deltaY)}},".function-plot2d-event-grab")},i.PlotExtension.prototype._functionPlot2D=function(t,e){var t=this._getPlot2dArguments(t,e),n=new i.FunctionPlot2D(t.expression,t.variable,t.domain,e,this._defaultPlotParameters,this._mathJs);return this._plots[n.id]=n,new i.CallbackResult(function(){return n.svg()})},i.PlotExtension.prototype._getPlot2dArguments=function(t,e){var n={};if(!t||3!==t.length)throw new Error("'plot2d' function expects 3 arguments: function expression, argument variable, argument domain interval");if("FunctionNode"!==t[0].type&&"OperatorNode"!==t[0].type&&"SymbolNode"!==t[0].type&&"ConstantNode"!==t[1].type)throw new Error("First argument must be an expression");if("SymbolNode"!==t[1].type)throw new Error("Second argument must be an independent variable name");if("ArrayNode"!==t[2].type||2!==t[2].items.length)throw new Error("Third argument must be an interval representing domain of a function");if(n.domain=[i.mathJsToValidNumber(t[2].items[0].evaluate(e)),i.mathJsToValidNumber(t[2].items[1].evaluate(e))],n.domain[0]>=n.domain[1])throw new Error("Domain interval must be in form [min, max] where min < max");return n.domain[0]=n.domain[0]-Math.abs(.1*n.domain[0]),n.domain[1]=n.domain[1]+Math.abs(.1*n.domain[1]),n.expression=t[0].compile(),n.variable=t[1].name,n}}(window.clc=window.clc||{}),function(n){n.LinksHandler=function(t){this._getExpressionCallback=t||null,this._isLogLinkButtonEnabled=!0,this._elements={logLinkButton:$("#generate-log-link-button")};var e=this._isCopyingToClipboardSupported();this._popoverTemplateId=e?"#template-create-link-popover":"#template-create-link-popover-no-copy",this._expressionLinkButtonHtml=$("#template-create-expression-link-button").html(),t&&(this._initializeLogLinkUi(),this._initializeExpressionLinkUi(),$(document).on("hidden.bs.popover",function(t){$(t.target).data("bs.popover").inState.click=!1}),e&&$(document).on("click",".copy-link-to-clipboard",function(t){try{if($(t.target).parents(".input-group").find("input").select(),!document.execCommand("copy"))throw new Error('Failed to execute execCommand("copy")')}catch(t){n.log("Failed to copy to clipboard: "+t.name+", "+t.message)}}))},n.LinksHandler.prototype.setLogLinkButtonEnabled=function(t){this._isLogLinkButtonEnabled!==t&&(this._isLogLinkButtonEnabled=t,this._elements.logLinkButton.toggleClass("disabled",!this._isLogLinkButtonEnabled))},n.LinksHandler.prototype.getExpressionsListFromUrl=function(){var t=this._getExpressonsListFromUrl();if(null===t)return null;try{return this._deserializeExpressionsList(t)}catch(t){return n.log(t.name+", "+t.message),null}},n.LinksHandler.prototype.injectExpressionLinkButton=function(t){t.append(this._expressionLinkButtonHtml)},n.LinksHandler.prototype._isCopyingToClipboardSupported=function(){try{return!!document.queryCommandSupported("copy")}catch(t){return!1}},n.LinksHandler.prototype._initializeLogLinkUi=function(){var i=this;this._elements.logLinkButton.popover({placement:function(){return $(window).width()<768?"bottom":"right"},container:"body",html:!0,title:"Link Generated",trigger:"manual",sanitize:!1,content:function(){return $(i._popoverTemplateId).html().replace("{link}",i._getExpressionsLink())}}),this._elements.logLinkButton.click(function(){i._isLogLinkButtonEnabled&&$(this).popover("show")}),this._elements.logLinkButton.on("shown.bs.popover",function(){var t=$(this).attr("aria-describedby");$("#"+t+" input").focus().select(),$(this).addClass("active")}),this._elements.logLinkButton.on("hidden.bs.popover",function(){$(this).removeClass("active")}),$(document).on("click",function(t){var e=i._elements.logLinkButton,n=e.attr("aria-describedby")||null;n&&e.hasClass("active")&&0===$("#"+n).has(t.target).length&&e.popover("hide")})},n.LinksHandler.prototype._initializeExpressionLinkUi=function(){var e=this;this._visibleExpressionLinkPopover=null,$("body").popover({placement:"left",container:"body",html:!0,title:"Expression Link Generated",trigger:"click",selector:".create-expression-link-button",sanitize:!1,content:function(){return $(e._popoverTemplateId).html().replace("{link}",e._getExpressionsLink($(this).parents(".terminal-command")))}}),$("body").on("shown.bs.popover",function(t){t=$(t.target);t.hasClass("create-expression-link-button")&&(t.parents(".terminal-command").addClass("active"),t=t.attr("aria-describedby"),$("#"+t+" input").focus().select(),e._visibleExpressionLinkPopover=$("#"+t))}),$("body").on("hidden.bs.popover",function(t){t=$(t.target);t.hasClass("create-expression-link-button")&&t.parents(".terminal-command").removeClass("active")}),$(document).on("click",function(t){e._visibleExpressionLinkPopover&&0===e._visibleExpressionLinkPopover.has(t.target).length&&(e._visibleExpressionLinkPopover.popover("hide"),e._visibleExpressionLinkPopover=null)})},n.LinksHandler.prototype._getExpressionsLink=function(t){t=this._getExpressionCallback(t),t=this._serializeExpressionsList(t);return this._buildLink(t)},n.LinksHandler.prototype._serializeExpressionsList=function(t){t=JSON.stringify({c:t,v:"1"});return n.base64Encode(n.stringToUtf8Array(t))},n.LinksHandler.prototype._deserializeExpressionsList=function(t){t=n.stringFromUtf8Array(n.base64Decode(t));return JSON.parse(t).c},n.LinksHandler.prototype._buildLink=function(t){var e=window.location.href.split("/");return e[0]+"//"+e[2]+"#"+t},n.LinksHandler.prototype._getExpressonsListFromUrl=function(){if(!window.location.hash)return null;var t=window.location.hash.substring(1);return t.length?t:null}}(window.clc=window.clc||{}),function(n){n.SettingsHandler=function(t){this._onSettingsChangedCallback=t,this._elements={showSettingsDialogButton:$("#show-settings-dialog-button"),settingsDialog:$("#settings-dialog"),thousandsSeparatorSelect:$("#settings-dialog .thousands-separator"),precisionInput:$("#settings-dialog .precision"),colorThemeSelect:$("#settings-dialog .color-theme"),applySettingsButton:$("#settings-dialog button.btn-primary")},this._settings={precision:64,thousandsSeparatorEnabled:!1,colorTheme:"light"},this._loadSettings(),this._initializeUi()},n.SettingsHandler.prototype.getSettings=function(){return this._settings},n.SettingsHandler.prototype._loadSettings=function(){var t,e,n;void 0!==window.localStorage&&(t=localStorage.getItem("settingsThousandsSeparatorEnabled"),e=localStorage.getItem("precision"),n=localStorage.getItem("colorTheme"),null!==t&&(this._settings.thousandsSeparatorEnabled="true"===t),null!==e&&(this._settings.precision=parseInt(e,10)),null!==n&&(this._settings.colorTheme=n))},n.SettingsHandler.prototype._saveSettings=function(){void 0!==window.localStorage&&(localStorage.setItem("settingsThousandsSeparatorEnabled",this._settings.thousandsSeparatorEnabled),localStorage.setItem("precision",this._settings.precision),localStorage.setItem("colorTheme",this._settings.colorTheme))},n.SettingsHandler.prototype._initializeUi=function(){var t=this;this._elements.settingsDialog.modal({backdrop:!0,keyboard:!0,show:!1}),this._elements.settingsDialog.on("show.bs.modal",function(){t._elements.showSettingsDialogButton.addClass("active")}),this._elements.settingsDialog.on("hidden.bs.modal",function(){t._elements.showSettingsDialogButton.removeClass("active")}),this._elements.applySettingsButton.click(function(){t._applySettings()}),this._elements.showSettingsDialogButton.click(function(){t._showDialog()})},n.SettingsHandler.prototype._showDialog=function(){this._elements.thousandsSeparatorSelect.val(this._settings.thousandsSeparatorEnabled?"enabled":"disabled"),this._elements.precisionInput.val(this._settings.precision),this._elements.colorThemeSelect.val(this._settings.colorTheme),this._elements.settingsDialog.modal("show")},n.SettingsHandler.prototype._hideDialog=function(){this._elements.settingsDialog.modal("hide")},n.SettingsHandler.prototype._applySettings=function(){var e;this._settings.thousandsSeparatorEnabled="enabled"===this._elements.thousandsSeparatorSelect.val();try{if(e=parseInt(this._elements.precisionInput.val()),!isFinite(e))throw new Error("Precision is "+e)}catch(t){n.log(t),e=this._settings.precision}this._settings.precision=n.clamp(e,8,4096),this._settings.colorTheme=this._elements.colorThemeSelect.val(),this._saveSettings(),this._hideDialog(),this._onSettingsChangedCallback()}}(window.clc=window.clc||{}),function(t){t.SyntaxHighlighter=function(){this._constants=[].concat(t.MATH_JS_CONSTANTS,["true","false"]),this._keywords=[].concat(t.MATH_JS_FUNCTIONS,t.CLCALC_FUNCTIONS,t.ALIASES,t.TERMINAL_COMMANDS,"$"),this._re={identifier:new RegExp("([0-9]*)([A-Za-z_$][A-Za-z0-9_$]*)","g"),color:new RegExp("#[A-Fa-f0-9]{6,8}","g")},this._classes={constant:"highlight-constant",keyword:"highlight-keyword",color:"highlight-color"}},t.SyntaxHighlighter.prototype.highlight=function(t){var i=this;return t.replace(this._re.identifier,function(t,e,n){if(i._isValidIdentifier(e,n)){if(-1!==i._constants.indexOf(n))return e+"[[;;;highlight-constant;]"+n+"]";if(-1!==i._keywords.indexOf(n))return e+"[[;;;highlight-keyword;]"+n+"]"}return t}).replace(this._re.color,function(t){return 7===t.length||9===t.length?"[[;;;highlight-color;]"+t+"]":t})},t.SyntaxHighlighter.prototype._isValidIdentifier=function(t,e){return!(!e||0===e.length)&&(!t||1!==t.length||"0"!==t[0]||"x"!==e[0]&&"X"!==e[0]&&"b"!==e[0]&&"B"!==e[0])}}(window.clc=window.clc||{}),function(o){o.TexHandler=function(){this._pendingExpressions=[],this._elements={togglePanelButton:$("#toggle-tex-panel-button"),panel:$(".tex-panel"),panelWrapper:$(".tex-wrapper")},this._katexLoadUrl="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js",this._katexLoadInProgress=!1,this._initializeUi()},o.TexHandler.prototype.addEvaluatedExpression=function(t,e){this._pendingExpressions.push({expression:t,value:e||null}),this._render()},o.TexHandler.prototype.clear=function(){this._pendingExpressions=[],this._elements.panel.empty()},o.TexHandler.prototype._isPanelVisible=function(){return"none"!==this._elements.panelWrapper.css("display")},o.TexHandler.prototype._setPanelVisible=function(t){t?this._elements.panelWrapper.css("display",$(window).width()<768?"table-row":"table-cell"):this._elements.panelWrapper.css("display","none")},o.TexHandler.prototype._initializeUi=function(){var t=this;this._elements.togglePanelButton.click(function(){t._isPanelVisible()?t._hidePanel():t._showPanel()})},o.TexHandler.prototype._showPanel=function(){var t=this;this._elements.togglePanelButton.addClass("active"),"undefined"==typeof katex?this._loadKatex(function(){t._showPanel()}):(this._setPanelVisible(!0),this._render())},o.TexHandler.prototype._hidePanel=function(){this._elements.togglePanelButton.removeClass("active"),this._setPanelVisible(!1)},o.TexHandler.prototype._loadKatex=function(t){var i=this;this._katexLoadInProgress||(this._katexLoadInProgress=!0,$.getScript(this._katexLoadUrl).done(function(){i._katexLoadInProgress=!1,t()}).fail(function(t,e,n){i._katexLoadInProgress=!1,o.log("Failed to load Katex library: "+n.name+", "+n.message)}))},o.TexHandler.prototype._render=function(){if(this._isPanelVisible()){for(var t=0;t<this._pendingExpressions.length;++t){var e=this._pendingExpressions[t],n=$('<div class="tex-block"></div>'),i=$('<div class="tex-expression"></div>');this._elements.panel.append(n),n.append(i),katex.render(e.expression,i[0]),null!==e.value&&(i=$('<div class="tex-value"></div>'),n.append(i),katex.render(e.value,i[0]))}this._pendingExpressions.length&&(this._pendingExpressions=[],this._elements.panel.scrollTop(this._elements.panel[0].scrollHeight))}}}(window.clc=window.clc||{});